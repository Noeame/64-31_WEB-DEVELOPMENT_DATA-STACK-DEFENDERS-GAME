<!DOCTYPE html>
<html lang="en">

<head>


        <meta charset="UTF-8">
        
        <link rel="stylesheet" href="style.css"> <!-- normal html outlet -->
        
  
   
    <title>Login Form Animation CSS</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        img {
            width: 100%;
            height: auto;
        }

        html, body {
            height: 100%;
            overflow: hidden;
        }

        #container {
            display: flex;
            height: 100%;
            overflow: hidden;
            position: relative;
        }

        #leftImage, #rightImage {
            flex: 1;
            overflow: hidden;
        }

        #leftImage img, #rightImage img {
            height: 100%;
            width: auto;
        }

        #canvas {
            background-color: white;
            border: 1px solid white;
            flex: 2;
            margin: auto;
            max-height: 100%;
        }

        #leftImage, #rightImage {
            max-width: 40%;
        }

        .hidden {
            display: none;
        }

        /* Add your existing styles for the login form here */
        .login-box {
            /*  styling for the login box is made separately*/
        }
    </style>
</head>

<body>

    <!-- Login Page -->
    <div class="login-box">
        <form action="#" onsubmit="showGame(); return false;">
            <!-- Your existing login form code -->
            <input type="checkbox" class="input-check" id="input-check">
            <label for="input-check" class="toggle"></label>
            <span class="text off">off</span>
            <span class="text on"></span>
            </label>
            <div class="login-light"></div>
            <h2>Login</h2>
            <div class="input-box">
                <span class="icon"></span>
               <input type="email" required> 
                <label>Email</label> 
            </div>
            <div class="input-box">
                <span class="icon"></span>
                <input type="password" required>
                <label>Password</label> 
            </div>
            <div class="remember-forgot">
                <label>
                    <input type="checkbox">Remember me
                </label>
                <a href="#">Forgot Password?</a>
            </div>
            <button type="submit" class="submitButton">Login</button>
            <div class="register-link">
                <p>Don't have an account?
                    <a href="#">Register</a></p>
            </div>
        </form>
    </div>

    <!-- Game Container -->
    <div id="game-container" class="hidden">
        <div id="container">
            <div id="leftImage">
                <img src="pageLeft.png" alt="Left Image">
            </div>
            <canvas id="myCanvas" width="800" height="600"></canvas>
            <div id="rightImage">
                <img src="pageRight.png" alt="Right Image">
            </div>
        </div>
    </div>


<!--  divs for audio and so on -->


<!-- Div to show audio -->
<div style="display: none;" id="audioDiv" class="cAudioDiv">
    <audio src="raining-village.mp3" style="display: none;" id="audio" autoplay loop></audio>

    <button type="button" onclick="aud_play_pause()" class="audioButton">
      <img id="audioMute" src="audioOn.png" width="35" height="35" alt="sound" style="display: none;" /> 
      <img id="audioActive" src="audioOff.png" width="35" height="35" alt="sound" /> 
    </button>
 </div>

 <style>.audio-icon {
    width: 5vh;
    height: 5vh; 
}</style>
 
 
 <!-- Div to show game over image and replay image -->
 <div id="divRestart" style="margin:.1rem;position:absolute; display: none;">
     <img id="gameOver" src="gameOver.png" style="display: block;" /> 
     <img id="restart" src="restartButton.png" style="display: block;" onclick="showGame()"/> 
 </div>



   <!--is needed--> 
    <script src="animateFct.js"></script>
    <script src="game.js"></script>

    <script>
        function showGame() {
          // Simply hide the login box and show the game container
          document.querySelector('.login-box').style.display = 'none';
          document.getElementById('game-container').classList.remove('hidden');
          aud_play_pause();


            // Hide the restart div
              document.getElementById('divRestart').style.display = 'none';

            //unhide the game container 
            document.getElementById('game-container').classList.remove('hidden');

        // Start the game, functions are handled in game.js 
        restart();
        animate();
        }

        var gameWidth = window.innerWidth;
        var gameHeight = window.innerHeight;
        var ratio = 1.5;
        if (gameHeight / gameWidth < ratio) {
            gameWidth = Math.ceil(gameHeight / ratio);
        }



 

    function aud_play_pause() {
      var myAudio = document.getElementById("audio");
     
      var btn1 = document.getElementById("audioMute");
      var btn2 = document.getElementById("audioActive");      
      if (myAudio.paused) {
         playAudio();
      } else {
        pauseAudio();
      }
      showAudioButton();
    }

    function pauseAudio(){
        var myAudio = document.getElementById("audio");
        myAudio.pause();
    }

    function playAudio(){
        var myAudio = document.getElementById("audio");
        myAudio.play();
    }

    function showAudioButton(){
        var myAudio = document.getElementById("audio");
        var btn1 = document.getElementById("audioMute");
        var btn2 = document.getElementById("audioActive");
        var eltAudioDiv = document.getElementById("audioDiv");
        eltAudioDiv.style.display = 'block';
        if (myAudio.paused) {
         btn2.style.display = 'block';
         btn1.style.display = 'none';
        } else {
         btn2.style.display = 'none';
         btn1.style.display = 'block';
        }
    }

 
    //once the loading of the ressoures is done, the audio button is shown
    // Restart game on reloading the page
    function reloadGame(){
         showGame();
         const eltRestart = document.getElementById("divRestart");
         eltRestart.style.display = 'none';
         pauseAudio();
         showAudioButton();

    }




    




        window.addEventListener('load', function () {
            domReady = true;
       
        showAudioButton();
    }, false);


    </script>

</body>

</html>
